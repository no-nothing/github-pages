---
layout: post
title: Linux 基础与常用命令
author: Simple
tags:
  - Shell
  - 常用命令
categories:
  - Linux
comments: true
date: 2017-05-06 22:50:00

---

## 基础

### `[root@localhost ~]#`

`root`: 当前登录用户

`localhost`: 主机名

`~`: 当前所在目录（家目录）

`#`: 超级用户的提示符（普通用户的提示符是$）

<!-- more -->

### Linux文件权限

`-rw-r--r--` (其中, `r`: 读, `w`: 写, `x`: 执行)

共10位;

第1位:     文件类型(共7种, 常用3种 `-`: 文件, `d`: 目录, `l`: 快捷方式);

第2~4位:   所有者(u)权限;

第5~7位:   所属组(g)权限;

第8~10位:  其他人(o)权限;


Shell 概述：
        Shell 是一个命令行解释器；它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统程序，用户可以用 Shell 来启动、挂起、停止甚至是编写一些程序。
        Shell 还是一个功能相当强大的编程语言，易编写，易调试，灵活性较强。Shell 是解释执行的脚本语言，在 Shell 中可以直接调用 Linux 系统命令。

脚本执行方式：
1、echo 输出命令
    格式：echo【选项】【输出内容】
        选项：
            -e：支持反斜线控制的字符转换；
\a  输出警告音；
\b  退格键，也就是向左删除键；
\n  换行符；
\r   回车符；
\t   制表符，也就是 Tab 键；
\v  垂直制表符；
\0nnn  按照八进制 ASCII 码表输出字符。其中 0 为数字零，nnn 是三位八进制数；
\xhh  按照十六进制 ASCII 码表输出字符。其中 hh 是两位十六进制数；
            带颜色输出：
30m = 黑色 ，31m = 红色， 32m = 绿色 ，33m = 黄色， 
34m = 蓝色 ，35m = 洋红， 36m = 青色 ，37m = 白色， 
                例如：echo -e "\e[1;35mmeizu\e[0m"

2、第一个脚本
    首先：vim hello.sh  或者 vi hello.sh
    然后编辑内容：
        #!/bin/bash                    脚本开头必须
        #The first program        注释
        echo -e "hello"

3、脚本执行
    赋予脚本执行权限，直接运行
        chmod 755 hello.sh
        然后相对路径调用 ./hello.sh   或者绝对路径调用 /root/hello.sh
    或者通过 Bash 调用执行脚本
        bash hello.sh

Bash 的基本功能：
1、命令别名与快捷键
    查看命令的别名：alias ；
    设定命令的别名：alias ls='ls --color=never' （命令行下敲此行代码，别名只是临时生效，重启后别名消失） ；
    别名永久生效：vi /root/.bashrc        写入环境变量配置文件 ；
                              source .bashrc        使写入的别名生效（或者不用 source 重启电脑） ；
    删除别名：unalias【别名】（命令行下敲此行代码，别名只是临时删除，重启后别名依然存在） ；
    常用快捷键：

ctrl+c    强制终止当前命令；
ctrl+l     清屏；
ctrl+a    光标移动到命令行首；
ctrl+e    光标移动到命令行尾；
ctrl+u    从光标所在位置删除到行首；
ctrl+z    把命令放入后台；
ctrl+r     在历史命令中 搜索；

2、历史命令
    history【选项】【历史命令保存文件】
        选项：
            -c：清空历史命令；
            -w：把缓存中的历史命令写入历史命令保存文件   /root/.bash_history
                    cat .bash_history 可以查看这个文件，默认关机时会执行 history -w 命令；
    历史命令默认保存1000条，可以在环境变量配置文件 /etc/profile 中进行修改，修改 HISTSIZE 的值；
    !n  可以重复执行 history 里第 n 条命令；
    !!  重复执行上一条命令；
    !字符串  重复执行最后一条已该字符串开头的命令；

3、输出重定向（很有用）
    例如：date > date.log  将时间信息输入到 date.log 文件中，而不是显示输出；
               date >> date.log 将时间信息追加到 date.log 文件中，而 > 是覆盖；
               dateccc 2>> date.log 可以记录系统的错误信息；（没太大意义，不用）
               date >> date.log 2>&1 同时保存正确和错误信息，如果有错误信息；
               或者 date &>> date.log 同时保存正确和错误信息，如果有错误信息；
               date >> date.log 2>>error.log 保存正确信息到 date.log，保存错误信息到 error.log；

3、输入重定向
    wc【选项】【文件名】
        选项：
            -c：统计字节数；
            -w：统计单词数；
            -l：  统计行数；
    例如：wc < date.log    或者直接    wc date.log    统计 date.log 文件里的字节数、单词数、行数；

4、管道符
    多命令顺序执行：
        ;        命令1 ; 命令2        多个命令顺序执行，命令之间没有任何逻辑联系；
        &&    命令1 && 命令2    逻辑与，只有当命令1正确执行，则执行命令2；
        ||        命令1 || 命令2       逻辑或，只有当命令1执行不正确，才执行命令2；

    管道符：（命令1 和 2 有数据传递）
        格式：命令1 | 命令2
            命令1的正确输出作为命令2的操作对象；
            例如：ls -lh /etc | more    分屏显示 ls-lh 的结果；
            例如：netstat -an | grep ESTABLISHED     其中 netstat -an 查看服务器上的所有网络连接，grep 在文件里查询，ESTABLISHED 表示连接到服务器上的终端；
            例如：netstat -an | grep ESTABLISHED | wc -l     可以查看服务器中连接了多少人；

5、通配符
    ？    ：匹配一个任意字符；
     *     ：匹配0个或任意多个任意字符，也就是可以匹配任何内容；
     [ ]    ：匹配中括号内的任意一个字符，例如：[abc] 代表一定匹配一个字符，或者是a、或者是b、或者是c；
     [ - ]  ：匹配中括号内的任意一个字符，- 代表一个范围，例如：[a-z] 代表匹配一个小写字母；
     [ ^ ]  ：逻辑非，表示匹配不是中括号内的一个字符，例如：[^0-9] 代表匹配一个不是数字的字符；


## 常用命令

1. 快捷键 `Ctrl+L`: 清屏
2. 快捷键 `Tab`: 自动补全目录或者命令，按一下或者两下
3. 命令 `pwd`: 查看当前索引